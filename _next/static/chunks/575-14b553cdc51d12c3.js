(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[575],{83234:function(t,e,i){"use strict";i.d(e,{NI:function(){return y},Yp:function(){return x},lX:function(){return I}});var r=i(67294),n=i(28387),s=i(76734),a=i(32067),o=i(54520),l=i(52494),h=(...t)=>t.filter(Boolean).join(" "),d=t=>t?"":void 0,u=t=>!!t||void 0;function c(...t){return function(e){t.some(t=>(null==t||t(e),null==e?void 0:e.defaultPrevented))}}var[f,p]=(0,n.k)({name:"FormControlStylesContext",errorMessage:"useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormControl />\" "}),[v,m]=(0,n.k)({strict:!1,name:"FormControlContext"}),y=(0,a.Gp)(function(t,e){let i=(0,a.jC)("Form",t),{getRootProps:n,htmlProps:l,...u}=function(t){let{id:e,isRequired:i,isInvalid:n,isDisabled:a,isReadOnly:o,...l}=t,h=(0,r.useId)(),u=e||`field-${h}`,c=`${u}-label`,f=`${u}-feedback`,p=`${u}-helptext`,[v,m]=(0,r.useState)(!1),[y,x]=(0,r.useState)(!1),[b,g]=(0,r.useState)(!1),I=(0,r.useCallback)((t={},e=null)=>({id:p,...t,ref:(0,s.lq)(e,t=>{t&&x(!0)})}),[p]),w=(0,r.useCallback)((t={},e=null)=>({...t,ref:e,"data-focus":d(b),"data-disabled":d(a),"data-invalid":d(n),"data-readonly":d(o),id:t.id??c,htmlFor:t.htmlFor??u}),[u,a,b,n,o,c]),C=(0,r.useCallback)((t={},e=null)=>({id:f,...t,ref:(0,s.lq)(e,t=>{t&&m(!0)}),"aria-live":"polite"}),[f]),B=(0,r.useCallback)((t={},e=null)=>({...t,...l,ref:e,role:"group"}),[l]);return{isRequired:!!i,isInvalid:!!n,isReadOnly:!!o,isDisabled:!!a,isFocused:!!b,onFocus:()=>g(!0),onBlur:()=>g(!1),hasFeedbackText:v,setHasFeedbackText:m,hasHelpText:y,setHasHelpText:x,id:u,labelId:c,feedbackId:f,helpTextId:p,htmlProps:l,getHelpTextProps:I,getErrorMessageProps:C,getRootProps:B,getLabelProps:w,getRequiredIndicatorProps:(0,r.useCallback)((t={},e=null)=>({...t,ref:e,role:"presentation","aria-hidden":!0,children:t.children||"*"}),[])}}((0,o.Lr)(t)),c=h("chakra-form-control",t.className);return r.createElement(v,{value:u},r.createElement(f,{value:i},r.createElement(a.m$.div,{...n({},e),className:c,__css:i.container})))});function x(t){let{isDisabled:e,isInvalid:i,isReadOnly:r,isRequired:n,...s}=function(t){let e=m(),{id:i,disabled:r,readOnly:n,required:s,isRequired:a,isInvalid:o,isReadOnly:l,isDisabled:h,onFocus:d,onBlur:u,...f}=t,p=t["aria-describedby"]?[t["aria-describedby"]]:[];return(null==e?void 0:e.hasFeedbackText)&&(null==e?void 0:e.isInvalid)&&p.push(e.feedbackId),(null==e?void 0:e.hasHelpText)&&p.push(e.helpTextId),{...f,"aria-describedby":p.join(" ")||void 0,id:i??(null==e?void 0:e.id),isDisabled:r??h??(null==e?void 0:e.isDisabled),isReadOnly:n??l??(null==e?void 0:e.isReadOnly),isRequired:s??a??(null==e?void 0:e.isRequired),isInvalid:o??(null==e?void 0:e.isInvalid),onFocus:c(null==e?void 0:e.onFocus,d),onBlur:c(null==e?void 0:e.onBlur,u)}}(t);return{...s,disabled:e,readOnly:r,required:n,"aria-invalid":u(i),"aria-required":u(n),"aria-readonly":u(r)}}y.displayName="FormControl",(0,a.Gp)(function(t,e){let i=m(),n=p(),s=h("chakra-form__helper-text",t.className);return r.createElement(a.m$.div,{...null==i?void 0:i.getHelpTextProps(t,e),__css:n.helperText,className:s})}).displayName="FormHelperText";var[b,g]=(0,n.k)({name:"FormErrorStylesContext",errorMessage:"useFormErrorStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormError />\" "});(0,a.Gp)((t,e)=>{let i=(0,a.jC)("FormError",t),n=(0,o.Lr)(t),s=m();return(null==s?void 0:s.isInvalid)?r.createElement(b,{value:i},r.createElement(a.m$.div,{...null==s?void 0:s.getErrorMessageProps(n,e),className:h("chakra-form__error-message",t.className),__css:{display:"flex",alignItems:"center",...i.text}})):null}).displayName="FormErrorMessage",(0,a.Gp)((t,e)=>{let i=g(),n=m();if(!(null==n?void 0:n.isInvalid))return null;let s=h("chakra-form__error-icon",t.className);return r.createElement(l.JO,{ref:e,"aria-hidden":!0,...t,__css:i.icon,className:s},r.createElement("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"}))}).displayName="FormErrorIcon";var I=(0,a.Gp)(function(t,e){let i=(0,a.mq)("FormLabel",t),n=(0,o.Lr)(t),{className:s,children:l,requiredIndicator:d=r.createElement(w,null),optionalIndicator:u=null,...c}=n,f=m(),p=(null==f?void 0:f.getLabelProps(c,e))??{ref:e,...c};return r.createElement(a.m$.label,{...p,className:h("chakra-form__label",n.className),__css:{display:"block",textAlign:"start",...i}},l,(null==f?void 0:f.isRequired)?d:u)});I.displayName="FormLabel";var w=(0,a.Gp)(function(t,e){let i=m(),n=p();if(!(null==i?void 0:i.isRequired))return null;let s=h("chakra-form__required-indicator",t.className);return r.createElement(a.m$.span,{...null==i?void 0:i.getRequiredIndicatorProps(t,e),__css:n.requiredIndicator,className:s})});w.displayName="RequiredIndicator"},20979:function(t,e,i){"use strict";i.d(e,{II:function(){return u}});var r=i(67294),n=i(83234),s=i(32067),a=i(54520),o=i(95336),l=i(28387),h=i(34031),d=i(46076),u=(0,s.Gp)(function(t,e){let{htmlSize:i,...l}=t,h=(0,s.jC)("Input",l),d=(0,a.Lr)(l),u=(0,n.Yp)(d),c=(0,o.cx)("chakra-input",t.className);return r.createElement(s.m$.input,{size:i,...u,__css:h.field,ref:e,className:c})});u.displayName="Input",u.id="Input";var[c,f]=(0,l.k)({name:"InputGroupStylesContext",errorMessage:"useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<InputGroup />\" "});(0,s.Gp)(function(t,e){let i=(0,s.jC)("Input",t),{children:n,className:l,...u}=(0,a.Lr)(t),f=(0,o.cx)("chakra-input__group",l),p={},v=(0,h.W)(n),m=i.field;v.forEach(t=>{i&&(m&&"InputLeftElement"===t.type.id&&(p.paddingStart=m.height??m.h),m&&"InputRightElement"===t.type.id&&(p.paddingEnd=m.height??m.h),"InputRightAddon"===t.type.id&&(p.borderEndRadius=0),"InputLeftAddon"===t.type.id&&(p.borderStartRadius=0))});let y=v.map(e=>{var i,n;let s=(0,d.oA)({size:(null==(i=e.props)?void 0:i.size)||t.size,variant:(null==(n=e.props)?void 0:n.variant)||t.variant});return"Input"!==e.type.id?(0,r.cloneElement)(e,s):(0,r.cloneElement)(e,Object.assign(s,p,e.props))});return r.createElement(s.m$.div,{className:f,ref:e,__css:{width:"100%",display:"flex",position:"relative"},...u},r.createElement(c,{value:i},y))}).displayName="InputGroup";var p={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},v=(0,s.m$)("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),m=(0,s.Gp)(function(t,e){let{placement:i="left",...n}=t,s=p[i]??{},a=f();return r.createElement(v,{ref:e,...n,__css:{...a.addon,...s}})});m.displayName="InputAddon";var y=(0,s.Gp)(function(t,e){return r.createElement(m,{ref:e,placement:"left",...t,className:(0,o.cx)("chakra-input__left-addon",t.className)})});y.displayName="InputLeftAddon",y.id="InputLeftAddon";var x=(0,s.Gp)(function(t,e){return r.createElement(m,{ref:e,placement:"right",...t,className:(0,o.cx)("chakra-input__right-addon",t.className)})});x.displayName="InputRightAddon",x.id="InputRightAddon";var b=(0,s.m$)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),g=(0,s.Gp)(function(t,e){let{placement:i="left",...n}=t,s=f(),a=s.field,o={["left"===i?"insetStart":"insetEnd"]:"0",width:(null==a?void 0:a.height)??(null==a?void 0:a.h),height:(null==a?void 0:a.height)??(null==a?void 0:a.h),fontSize:null==a?void 0:a.fontSize,...s.element};return r.createElement(b,{ref:e,__css:o,...n})});g.id="InputElement",g.displayName="InputElement";var I=(0,s.Gp)(function(t,e){let{className:i,...n}=t,s=(0,o.cx)("chakra-input__left-element",i);return r.createElement(g,{ref:e,placement:"left",className:s,...n})});I.id="InputLeftElement",I.displayName="InputLeftElement";var w=(0,s.Gp)(function(t,e){let{className:i,...n}=t,s=(0,o.cx)("chakra-input__right-element",i);return r.createElement(g,{ref:e,placement:"right",className:s,...n})});w.id="InputRightElement",w.displayName="InputRightElement"},57026:function(t,e,i){"use strict";i.d(e,{Ph:function(){return d}});var r=i(67294),n=i(83234),s=i(32067),a=i(54520),o=(...t)=>t.filter(Boolean).join(" "),l=t=>t?"":void 0,h=(0,s.Gp)(function(t,e){let{children:i,placeholder:n,className:a,...l}=t;return r.createElement(s.m$.select,{...l,ref:e,className:o("chakra-select",a)},n&&r.createElement("option",{value:""},n),i)});h.displayName="SelectField";var d=(0,s.Gp)((t,e)=>{var i;let o=(0,s.jC)("Select",t),{rootProps:d,placeholder:u,icon:c,color:p,height:v,h:m,minH:y,minHeight:x,iconColor:b,iconSize:g,...I}=(0,a.Lr)(t),[w,C]=function(t,e){let i={},r={};for(let[n,s]of Object.entries(t))e.includes(n)?i[n]=s:r[n]=s;return[i,r]}(I,a.oE),B=(0,n.Yp)(C),E={paddingEnd:"2rem",...o.field,_focus:{zIndex:"unset",...null==(i=o.field)?void 0:i._focus}};return r.createElement(s.m$.div,{className:"chakra-select__wrapper",__css:{width:"100%",height:"fit-content",position:"relative",color:p},...w,...d},r.createElement(h,{ref:e,height:m??v,minH:y??x,placeholder:u,...B,__css:E},t.children),r.createElement(f,{"data-disabled":l(B.disabled),...(b||p)&&{color:b||p},__css:o.icon,...g&&{fontSize:g}},c))});d.displayName="Select";var u=t=>r.createElement("svg",{viewBox:"0 0 24 24",...t},r.createElement("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})),c=(0,s.m$)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),f=t=>{let{children:e=r.createElement(u,null),...i}=t,n=(0,r.cloneElement)(e,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return r.createElement(c,{...i,className:"chakra-select__icon-wrapper"},(0,r.isValidElement)(e)?n:null)};f.displayName="SelectIcon"},97098:function(t,e,i){"use strict";i.d(e,{lu:function(){return ts},zx:function(){return tf}});var r=Object.create,n=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,o=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,h=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),d=(t,e,i,r)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let o of a(e))l.call(t,o)||o===i||n(t,o,{get:()=>e[o],enumerable:!(r=s(e,o))||r.enumerable});return t},u=(t,e,i)=>(i=null!=t?r(o(t)):{},d(!e&&t&&t.__esModule?i:n(i,"default",{value:t,enumerable:!0}),t)),c=h((t,e)=>{var i=function(t,e){return t<e};function r(t){if(!(this instanceof r))return new r(t);this.array=[],this.size=0,this.compare=t||i}r.prototype.clone=function(){var t=new r(this.compare);return t.size=this.size,t.array=this.array.slice(0,this.size),t},r.prototype.add=function(t){var e,i,r=this.size;for(this.array[this.size]=t,this.size+=1;r>0&&(e=r-1>>1,i=this.array[e],this.compare(t,i));)this.array[r]=i,r=e;this.array[r]=t},r.prototype.heapify=function(t){var e;for(this.array=t,this.size=t.length,e=this.size>>1;e>=0;e--)this._percolateDown(e)},r.prototype._percolateUp=function(t,e){for(var i,r,n=this.array[t];t>0&&(i=t-1>>1,r=this.array[i],!(!e&&!this.compare(n,r)));)this.array[t]=r,t=i;this.array[t]=n},r.prototype._percolateDown=function(t){for(var e,i,r,n=this.size,s=this.size>>>1,a=this.array[t];t<s&&(i=(e=(t<<1)+1)+1,r=this.array[e],i<n&&this.compare(this.array[i],r)&&(e=i,r=this.array[i]),this.compare(r,a));)this.array[t]=r,t=e;this.array[t]=a},r.prototype._removeAt=function(t){if(!(t>this.size-1||t<0))return this._percolateUp(t,!0),this.poll()},r.prototype.remove=function(t){for(var e=0;e<this.size;e++)if(!this.compare(this.array[e],t)&&!this.compare(t,this.array[e]))return this._removeAt(e),!0;return!1},r.prototype.removeOne=function(t){if("function"==typeof t){for(var e=0;e<this.size;e++)if(t(this.array[e]))return this._removeAt(e)}},r.prototype.removeMany=function(t,e){if("function"!=typeof t||this.size<1)return[];e=e?Math.min(e,this.size):this.size;for(var i=0,r=Array(e),n=0,s=Array(this.size);i<e&&!this.isEmpty();){var a=this.poll();t(a)?r[i++]=a:s[n++]=a}r.length=i;for(var o=0;o<n;)this.add(s[o++]);return r},r.prototype.peek=function(){if(0!=this.size)return this.array[0]},r.prototype.poll=function(){if(0!=this.size){var t=this.array[0];return this.size>1?(this.array[0]=this.array[--this.size],this._percolateDown(0)):this.size-=1,t}},r.prototype.replaceTop=function(t){if(0!=this.size){var e=this.array[0];return this.array[0]=t,this._percolateDown(0),e}},r.prototype.trim=function(){this.array=this.array.slice(0,this.size)},r.prototype.isEmpty=function(){return 0===this.size},r.prototype.forEach=function(t){if(!(this.isEmpty()||"function"!=typeof t))for(var e=0,i=this.clone();!i.isEmpty();)t(i.poll(),e++)},r.prototype.kSmallest=function(t){if(0==this.size)return[];t=Math.min(this.size,t);var e=new r(this.compare);let i=Math.min((t>0?Math.pow(2,t-1):0)+1,this.size);e.size=i,e.array=this.array.slice(0,i);for(var n=Array(t),s=0;s<t;s++)n[s]=e.poll();return n},e.exports=r}),f=h((t,e)=>{function i(t,e,i,r){this.feasible=i,this.evaluation=e,this.bounded=r,this._tableau=t}e.exports=i,i.prototype.generateSolutionSet=function(){for(var t={},e=this._tableau,i=e.varIndexByRow,r=e.variablesPerIndex,n=e.matrix,s=e.rhsColumn,a=e.height-1,o=Math.round(1/e.precision),l=1;l<=a;l+=1){var h=r[i[l]];if(!(void 0===h||!0===h.isSlack)){var d=n[l][s];t[h.id]=Math.round((Number.EPSILON+d)*o)/o}}return t}}),p=h((t,e)=>{var i=f();function r(t,e,r,n,s){i.call(this,t,e,r,n),this.iter=s}e.exports=r,r.prototype=Object.create(i.prototype),r.constructor=r}),v=h((t,e)=>{var i=f(),r=p();function n(t){this.model=null,this.matrix=null,this.width=0,this.height=0,this.costRowIndex=0,this.rhsColumn=0,this.variablesPerIndex=[],this.unrestrictedVars=null,this.feasible=!0,this.evaluation=0,this.simplexIters=0,this.varIndexByRow=null,this.varIndexByCol=null,this.rowByVarIndex=null,this.colByVarIndex=null,this.precision=t||1e-8,this.optionalObjectives=[],this.objectivesByPriority={},this.savedState=null,this.availableIndexes=[],this.lastElementIndex=0,this.variables=null,this.nVars=0,this.bounded=!0,this.unboundedVarIndex=null,this.branchAndCutIterations=0}function s(t,e){this.priority=t,this.reducedCosts=Array(e);for(var i=0;i<e;i+=1)this.reducedCosts[i]=0}e.exports=n,n.prototype.solve=function(){return this.model.getNumberOfIntegerVariables()>0?this.branchAndCut():this.simplex(),this.updateVariableValues(),this.getSolution()},s.prototype.copy=function(){var t=new s(this.priority,this.reducedCosts.length);return t.reducedCosts=this.reducedCosts.slice(),t},n.prototype.setOptionalObjective=function(t,e,i){var r=this.objectivesByPriority[t];void 0===r&&(r=new s(t,Math.max(this.width,e+1)),this.objectivesByPriority[t]=r,this.optionalObjectives.push(r),this.optionalObjectives.sort(function(t,e){return t.priority-e.priority})),r.reducedCosts[e]=i},n.prototype.initialize=function(t,e,i,r){this.variables=i,this.unrestrictedVars=r,this.width=t,this.height=e;for(var n=Array(t),s=0;s<t;s++)n[s]=0;this.matrix=Array(e);for(var a=0;a<e;a++)this.matrix[a]=n.slice();this.varIndexByRow=Array(this.height),this.varIndexByCol=Array(this.width),this.varIndexByRow[0]=-1,this.varIndexByCol[0]=-1,this.nVars=t+e-2,this.rowByVarIndex=Array(this.nVars),this.colByVarIndex=Array(this.nVars),this.lastElementIndex=this.nVars},n.prototype._resetMatrix=function(){var t,e,i=this.model.variables,r=this.model.constraints,n=i.length,s=r.length,a=this.matrix[0],o=!0===this.model.isMinimization?-1:1;for(t=0;t<n;t+=1){var l=i[t],h=l.priority,d=o*l.cost;0===h?a[t+1]=d:this.setOptionalObjective(h,t+1,d),e=i[t].index,this.rowByVarIndex[e]=-1,this.colByVarIndex[e]=t+1,this.varIndexByCol[t+1]=e}for(var u=1,c=0;c<s;c+=1){var f=r[c],p=f.index;this.rowByVarIndex[p]=u,this.colByVarIndex[p]=-1,this.varIndexByRow[u]=p;var v,m,y=f.terms,x=y.length,b=this.matrix[u++];if(f.isUpperBound){for(v=0;v<x;v+=1)m=y[v],b[this.colByVarIndex[m.variable.index]]=m.coefficient;b[0]=f.rhs}else{for(v=0;v<x;v+=1)m=y[v],b[this.colByVarIndex[m.variable.index]]=-m.coefficient;b[0]=-f.rhs}}},n.prototype.setModel=function(t){this.model=t;var e=t.nVariables+1,i=t.nConstraints+1;return this.initialize(e,i,t.variables,t.unrestrictedVariables),this._resetMatrix(),this},n.prototype.getNewElementIndex=function(){if(this.availableIndexes.length>0)return this.availableIndexes.pop();var t=this.lastElementIndex;return this.lastElementIndex+=1,t},n.prototype.density=function(){for(var t=0,e=this.matrix,i=0;i<this.height;i++)for(var r=e[i],n=0;n<this.width;n++)0!==r[n]&&(t+=1);return t/(this.height*this.width)},n.prototype.setEvaluation=function(){var t=Math.round(1/this.precision),e=Math.round((Number.EPSILON+this.matrix[this.costRowIndex][this.rhsColumn])*t)/t;this.evaluation=e,0===this.simplexIters&&(this.bestPossibleEval=e)},n.prototype.getSolution=function(){var t=!0===this.model.isMinimization?this.evaluation:-this.evaluation;return this.model.getNumberOfIntegerVariables()>0?new r(this,t,this.feasible,this.bounded,this.branchAndCutIterations):new i(this,t,this.feasible,this.bounded)}}),m=h(()=>{var t=v();t.prototype.simplex=function(){return this.bounded=!0,this.phase1(),!0===this.feasible&&this.phase2(),this},t.prototype.phase1=function(){for(var t=this.model.checkForCycles,e=[],i=this.matrix,r=this.rhsColumn,n=this.width-1,s=this.height-1,a=0;;){for(var o=0,l=-this.precision,h=1;h<=s;h++){this.unrestrictedVars[this.varIndexByRow[h]];var d=i[h][r];d<l&&(l=d,o=h)}if(0===o)return this.feasible=!0,a;for(var u=0,c=-1/0,f=i[0],p=i[o],v=1;v<=n;v++){var m=p[v];if(!0===this.unrestrictedVars[this.varIndexByCol[v]]||m<-this.precision){var y=-f[v]/m;c<y&&(c=y,u=v)}}if(0===u)return this.feasible=!1,a;if(t){e.push([this.varIndexByRow[o],this.varIndexByCol[u]]);var x=this.checkForCycles(e);if(x.length>0)return this.model.messages.push("Cycle in phase 1"),this.model.messages.push("Start :"+x[0]),this.model.messages.push("Length :"+x[1]),this.feasible=!1,a}this.pivot(o,u),a+=1}},t.prototype.phase2=function(){for(var t,e,i=this.model.checkForCycles,r=[],n=this.matrix,s=this.rhsColumn,a=this.width-1,o=this.height-1,l=this.precision,h=this.optionalObjectives.length,d=null,u=0;;){var c=n[this.costRowIndex];h>0&&(d=[]);for(var f=0,p=l,v=!1,m=1;m<=a;m++){if(t=c[m],e=!0===this.unrestrictedVars[this.varIndexByCol[m]],h>0&&-l<t&&t<l){d.push(m);continue}if(e&&t<0){-t>p&&(p=-t,f=m,v=!0);continue}t>p&&(p=t,f=m,v=!1)}if(h>0)for(var y=0;0===f&&d.length>0&&y<h;){var x=[],b=this.optionalObjectives[y].reducedCosts;p=l;for(var g=0;g<d.length;g++){if(t=b[m=d[g]],e=!0===this.unrestrictedVars[this.varIndexByCol[m]],-l<t&&t<l){x.push(m);continue}if(e&&t<0){-t>p&&(p=-t,f=m,v=!0);continue}t>p&&(p=t,f=m,v=!1)}d=x,y+=1}if(0===f)return this.setEvaluation(),this.simplexIters+=1,u;for(var I=0,w=1/0,C=(this.varIndexByRow,1);C<=o;C++){var B=n[C],E=B[s],V=B[f];if(!(-l<V&&V<l)){if(V>0&&l>E&&E>-l){w=0,I=C;break}var _=v?-E/V:E/V;_>l&&w>_&&(w=_,I=C)}}if(w===1/0)return this.evaluation=-1/0,this.bounded=!1,this.unboundedVarIndex=this.varIndexByCol[f],u;if(i){r.push([this.varIndexByRow[I],this.varIndexByCol[f]]);var M=this.checkForCycles(r);if(M.length>0)return this.model.messages.push("Cycle in phase 2"),this.model.messages.push("Start :"+M[0]),this.model.messages.push("Length :"+M[1]),this.feasible=!1,u}this.pivot(I,f,!0),u+=1}};var e=[];t.prototype.pivot=function(t,i){var r=this.matrix,n=r[t][i],s=this.height-1,a=this.width-1,o=this.varIndexByRow[t],l=this.varIndexByCol[i];this.varIndexByRow[t]=l,this.varIndexByCol[i]=o,this.rowByVarIndex[l]=t,this.rowByVarIndex[o]=-1,this.colByVarIndex[l]=-1,this.colByVarIndex[o]=i;for(var h=r[t],d=0,u=0;u<=a;u++)h[u]>=-.0000000000000001&&h[u]<=1e-16?h[u]=0:(h[u]/=n,e[d]=u,d+=1);h[i]=1/n,this.precision;for(var c,f,p,v=0;v<=s;v++)if(v!==t&&!(r[v][i]>=-.0000000000000001&&r[v][i]<=1e-16)){var m=r[v];if((c=m[i])>=-.0000000000000001&&c<=1e-16)0!==c&&(m[i]=0);else{for(f=0;f<d;f++)(p=h[u=e[f]])>=-.0000000000000001&&p<=1e-16?0!==p&&(h[u]=0):m[u]=m[u]-c*p;m[i]=-c/n}}var y=this.optionalObjectives.length;if(y>0)for(var x=0;x<y;x+=1){var b=this.optionalObjectives[x].reducedCosts;if(0!==(c=b[i])){for(f=0;f<d;f++)0!==(p=h[u=e[f]])&&(b[u]=b[u]-c*p);b[i]=-c/n}}},t.prototype.checkForCycles=function(t){for(var e=0;e<t.length-1;e++)for(var i=e+1;i<t.length;i++){var r=t[e],n=t[i];if(r[0]===n[0]&&r[1]===n[1]){if(i-e>t.length-i)break;for(var s=!0,a=1;a<i-e;a++){var o=t[e+a],l=t[i+a];if(o[0]!==l[0]||o[1]!==l[1]){s=!1;break}}if(s)return[e,i-e]}}return[]}}),y=h((t,e)=>{function i(t,e,i,r){this.id=t,this.cost=e,this.index=i,this.value=0,this.priority=r}function r(t,e,r,n){i.call(this,t,e,r,n)}function n(t,e){i.call(this,t,0,e,0)}function s(t,e){this.variable=t,this.coefficient=e}function a(t,e,i){return 0===i||"required"===i?null:(e=e||1,i=i||1,!1===t.isMinimization&&(e=-e),t.addVariable(e,"r"+t.relaxationIndex++,!1,!1,i))}function o(t,e,i,r){this.slack=new n("s"+i,i),this.index=i,this.model=r,this.rhs=t,this.isUpperBound=e,this.terms=[],this.termsByVarIndex={},this.relaxation=null}function l(t,e){this.upperBound=t,this.lowerBound=e,this.model=t.model,this.rhs=t.rhs,this.relaxation=null}r.prototype.isInteger=!0,n.prototype.isSlack=!0,o.prototype.addTerm=function(t,e){var i=e.index,r=this.termsByVarIndex[i];if(void 0===r)r=new s(e,t),this.termsByVarIndex[i]=r,this.terms.push(r),!0===this.isUpperBound&&(t=-t),this.model.updateConstraintCoefficient(this,e,t);else{var n=r.coefficient+t;this.setVariableCoefficient(n,e)}return this},o.prototype.removeTerm=function(t){return this},o.prototype.setRightHandSide=function(t){if(t!==this.rhs){var e=t-this.rhs;!0===this.isUpperBound&&(e=-e),this.rhs=t,this.model.updateRightHandSide(this,e)}return this},o.prototype.setVariableCoefficient=function(t,e){var i=e.index;if(-1===i){console.warn("[Constraint.setVariableCoefficient] Trying to change coefficient of inexistant variable.");return}var r=this.termsByVarIndex[i];if(void 0===r)this.addTerm(t,e);else if(t!==r.coefficient){var n=t-r.coefficient;!0===this.isUpperBound&&(n=-n),r.coefficient=t,this.model.updateConstraintCoefficient(this,e,n)}return this},o.prototype.relax=function(t,e){this.relaxation=a(this.model,t,e),this._relax(this.relaxation)},o.prototype._relax=function(t){null!==t&&(this.isUpperBound?this.setVariableCoefficient(-1,t):this.setVariableCoefficient(1,t))},l.prototype.isEquality=!0,l.prototype.addTerm=function(t,e){return this.upperBound.addTerm(t,e),this.lowerBound.addTerm(t,e),this},l.prototype.removeTerm=function(t){return this.upperBound.removeTerm(t),this.lowerBound.removeTerm(t),this},l.prototype.setRightHandSide=function(t){this.upperBound.setRightHandSide(t),this.lowerBound.setRightHandSide(t),this.rhs=t},l.prototype.relax=function(t,e){this.relaxation=a(this.model,t,e),this.upperBound.relaxation=this.relaxation,this.upperBound._relax(this.relaxation),this.lowerBound.relaxation=this.relaxation,this.lowerBound._relax(this.relaxation)},e.exports={Constraint:o,Variable:i,IntegerVariable:r,SlackVariable:n,Equality:l,Term:s}}),x=h(()=>{var t=v(),e=y().SlackVariable;t.prototype.addCutConstraints=function(t){for(var i=t.length,r=this.height,n=r+i,s=r;s<n;s+=1)void 0===this.matrix[s]&&(this.matrix[s]=this.matrix[s-1].slice());this.height=n,this.nVars=this.width+this.height-2;for(var a,o=this.width-1,l=0;l<i;l+=1){var h=t[l],d=r+l,u="min"===h.type?-1:1,c=h.varIndex,f=this.rowByVarIndex[c],p=this.matrix[d];if(-1===f){for(p[this.rhsColumn]=u*h.value,a=1;a<=o;a+=1)p[a]=0;p[this.colByVarIndex[c]]=u}else{var v=this.matrix[f],m=v[this.rhsColumn];for(p[this.rhsColumn]=u*(h.value-m),a=1;a<=o;a+=1)p[a]=-u*v[a]}var y=this.getNewElementIndex();this.varIndexByRow[d]=y,this.rowByVarIndex[y]=d,this.colByVarIndex[y]=-1,this.variablesPerIndex[y]=new e("s"+y,y),this.nVars+=1}},t.prototype._addLowerBoundMIRCut=function(t){if(t===this.costRowIndex)return!1;this.model;var i=this.matrix;if(!this.variablesPerIndex[this.varIndexByRow[t]].isInteger)return!1;var r=i[t][this.rhsColumn],n=r-Math.floor(r);if(n<this.precision||1-this.precision<n)return!1;var s=this.height;i[s]=i[s-1].slice(),this.height+=1,this.nVars+=1;var a=this.getNewElementIndex();this.varIndexByRow[s]=a,this.rowByVarIndex[a]=s,this.colByVarIndex[a]=-1,this.variablesPerIndex[a]=new e("s"+a,a),i[s][this.rhsColumn]=Math.floor(r);for(var o=1;o<this.varIndexByCol.length;o+=1)if(this.variablesPerIndex[this.varIndexByCol[o]].isInteger){var l=i[t][o],h=Math.floor(l)+Math.max(0,l-Math.floor(l)-n)/(1-n);i[s][o]=h}else i[s][o]=Math.min(0,i[t][o]/(1-n));for(var d=0;d<this.width;d+=1)i[s][d]-=i[t][d];return!0},t.prototype._addUpperBoundMIRCut=function(t){if(t===this.costRowIndex)return!1;this.model;var i=this.matrix;if(!this.variablesPerIndex[this.varIndexByRow[t]].isInteger)return!1;var r=i[t][this.rhsColumn],n=r-Math.floor(r);if(n<this.precision||1-this.precision<n)return!1;var s=this.height;i[s]=i[s-1].slice(),this.height+=1,this.nVars+=1;var a=this.getNewElementIndex();this.varIndexByRow[s]=a,this.rowByVarIndex[a]=s,this.colByVarIndex[a]=-1,this.variablesPerIndex[a]=new e("s"+a,a),i[s][this.rhsColumn]=-n;for(var o=1;o<this.varIndexByCol.length;o+=1){var l=this.variablesPerIndex[this.varIndexByCol[o]],h=i[t][o],d=h-Math.floor(h);l.isInteger?d<=n?i[s][o]=-d:i[s][o]=-(1-d)*n/d:h>=0?i[s][o]=-h:i[s][o]=h*n/(1-n)}return!0},t.prototype.applyMIRCuts=function(){}}),b=h(()=>{var t=v();t.prototype._putInBase=function(t){var e=this.rowByVarIndex[t];if(-1===e){for(var i=this.colByVarIndex[t],r=1;r<this.height;r+=1){var n=this.matrix[r][i];if(n<-this.precision||this.precision<n){e=r;break}}this.pivot(e,i)}return e},t.prototype._takeOutOfBase=function(t){var e=this.colByVarIndex[t];if(-1===e){for(var i=this.rowByVarIndex[t],r=this.matrix[i],n=1;n<this.height;n+=1){var s=r[n];if(s<-this.precision||this.precision<s){e=n;break}}this.pivot(i,e)}return e},t.prototype.updateVariableValues=function(){for(var t=this.variables.length,e=Math.round(1/this.precision),i=0;i<t;i+=1){var r=this.variables[i],n=r.index,s=this.rowByVarIndex[n];if(-1===s)r.value=0;else{var a=this.matrix[s][this.rhsColumn];r.value=Math.round((a+Number.EPSILON)*e)/e}}},t.prototype.updateRightHandSide=function(t,e){var i=this.height-1,r=this.rowByVarIndex[t.index];if(-1===r){for(var n=this.colByVarIndex[t.index],s=0;s<=i;s+=1){var a=this.matrix[s];a[this.rhsColumn]-=e*a[n]}var o=this.optionalObjectives.length;if(o>0)for(var l=0;l<o;l+=1){var h=this.optionalObjectives[l].reducedCosts;h[this.rhsColumn]-=e*h[n]}}else this.matrix[r][this.rhsColumn]-=e},t.prototype.updateConstraintCoefficient=function(t,e,i){if(t.index===e.index)throw Error("[Tableau.updateConstraintCoefficient] constraint index should not be equal to variable index !");var r=this._putInBase(t.index),n=this.colByVarIndex[e.index];if(-1===n)for(var s=this.rowByVarIndex[e.index],a=0;a<this.width;a+=1)this.matrix[r][a]+=i*this.matrix[s][a];else this.matrix[r][n]-=i},t.prototype.updateCost=function(t,e){var i=t.index,r=this.width-1,n=this.colByVarIndex[i];if(-1===n){var s,a=this.matrix[this.rowByVarIndex[i]];if(0===t.priority){var o=this.matrix[0];for(s=0;s<=r;s+=1)o[s]+=e*a[s]}else{var l=this.objectivesByPriority[t.priority].reducedCosts;for(s=0;s<=r;s+=1)l[s]+=e*a[s]}}else this.matrix[0][n]-=e},t.prototype.addConstraint=function(t){var e=t.isUpperBound?1:-1,i=this.height,r=this.matrix[i];void 0===r&&(r=this.matrix[0].slice(),this.matrix[i]=r);for(var n=this.width-1,s=0;s<=n;s+=1)r[s]=0;r[this.rhsColumn]=e*t.rhs;for(var a=t.terms,o=a.length,l=0;l<o;l+=1){var h=a[l],d=h.coefficient,u=h.variable.index,c=this.rowByVarIndex[u];if(-1===c)r[this.colByVarIndex[u]]+=e*d;else{var f=this.matrix[c];for(f[this.rhsColumn],s=0;s<=n;s+=1)r[s]-=e*d*f[s]}}var p=t.index;this.varIndexByRow[i]=p,this.rowByVarIndex[p]=i,this.colByVarIndex[p]=-1,this.height+=1},t.prototype.removeConstraint=function(t){var e=t.index,i=this.height-1,r=this._putInBase(e),n=this.matrix[i];this.matrix[i]=this.matrix[r],this.matrix[r]=n,this.varIndexByRow[r]=this.varIndexByRow[i],this.varIndexByRow[i]=-1,this.rowByVarIndex[e]=-1,this.availableIndexes[this.availableIndexes.length]=e,t.slack.index=-1,this.height-=1},t.prototype.addVariable=function(t){var e=this.height-1,i=this.width,r=!0===this.model.isMinimization?-t.cost:t.cost,n=t.priority,s=this.optionalObjectives.length;if(s>0)for(var a=0;a<s;a+=1)this.optionalObjectives[a].reducedCosts[i]=0;0===n?this.matrix[0][i]=r:(this.setOptionalObjective(n,i,r),this.matrix[0][i]=0);for(var o=1;o<=e;o+=1)this.matrix[o][i]=0;var l=t.index;this.varIndexByCol[i]=l,this.rowByVarIndex[l]=-1,this.colByVarIndex[l]=i,this.width+=1},t.prototype.removeVariable=function(t){var e=t.index,i=this._takeOutOfBase(e),r=this.width-1;if(i!==r){for(var n=this.height-1,s=0;s<=n;s+=1){var a=this.matrix[s];a[i]=a[r]}var o=this.optionalObjectives.length;if(o>0)for(var l=0;l<o;l+=1){var h=this.optionalObjectives[l].reducedCosts;h[i]=h[r]}var d=this.varIndexByCol[r];this.varIndexByCol[i]=d,this.colByVarIndex[d]=i}this.varIndexByCol[r]=-1,this.colByVarIndex[e]=-1,this.availableIndexes[this.availableIndexes.length]=e,t.index=-1,this.width-=1}}),g=h(()=>{v().prototype.log=function(t,e){console.log("****",t,"****"),console.log("Nb Variables",this.width-1),console.log("Nb Constraints",this.height-1),console.log("Basic Indexes",this.varIndexByRow),console.log("Non Basic Indexes",this.varIndexByCol),console.log("Rows",this.rowByVarIndex),console.log("Cols",this.colByVarIndex);var i,r,n,s,a,o,l,h,d,u,c,f="",p=[" "];for(r=1;r<this.width;r+=1)a=this.varIndexByCol[r],l=(o=void 0===(s=this.variablesPerIndex[a])?"c"+a:s.id).length,h=" ",d="	",l>5?h+=" ":d+="	",p[r]=h,f+=d+o;console.log(f);var v=this.matrix[this.costRowIndex],m="	";for(i=1;i<this.width;i+=1)m+="	"+p[i]+v[i].toFixed(5);for(console.log((m+="	"+p[0]+v[0].toFixed(5))+"	Z"),n=1;n<this.height;n+=1){for(u=this.matrix[n],c="	",r=1;r<this.width;r+=1)c+="	"+p[r]+u[r].toFixed(5);c+="	"+p[0]+u[0].toFixed(5),a=this.varIndexByRow[n],console.log(c+"	"+(o=void 0===(s=this.variablesPerIndex[a])?"c"+a:s.id))}console.log("");var y=this.optionalObjectives.length;if(y>0){console.log("    Optional objectives:");for(var x=0;x<y;x+=1){var b=this.optionalObjectives[x].reducedCosts,g="";for(i=1;i<this.width;i+=1)g+=(b[i]<0?"":" ")+p[i]+b[i].toFixed(5);console.log((g+=(b[0]<0?"":" ")+p[0]+b[0].toFixed(5))+" z"+x)}}return console.log("Feasible?",this.feasible),console.log("evaluation",this.evaluation),this}}),I=h(()=>{var t=v();t.prototype.copy=function(){var e=new t(this.precision);e.width=this.width,e.height=this.height,e.nVars=this.nVars,e.model=this.model,e.variables=this.variables,e.variablesPerIndex=this.variablesPerIndex,e.unrestrictedVars=this.unrestrictedVars,e.lastElementIndex=this.lastElementIndex,e.varIndexByRow=this.varIndexByRow.slice(),e.varIndexByCol=this.varIndexByCol.slice(),e.rowByVarIndex=this.rowByVarIndex.slice(),e.colByVarIndex=this.colByVarIndex.slice(),e.availableIndexes=this.availableIndexes.slice();for(var i=[],r=0;r<this.optionalObjectives.length;r++)i[r]=this.optionalObjectives[r].copy();e.optionalObjectives=i;for(var n=this.matrix,s=Array(this.height),a=0;a<this.height;a++)s[a]=n[a].slice();return e.matrix=s,e},t.prototype.save=function(){this.savedState=this.copy()},t.prototype.restore=function(){if(null!==this.savedState){var t,e,i=this.savedState,r=i.matrix;for(this.nVars=i.nVars,this.model=i.model,this.variables=i.variables,this.variablesPerIndex=i.variablesPerIndex,this.unrestrictedVars=i.unrestrictedVars,this.lastElementIndex=i.lastElementIndex,this.width=i.width,this.height=i.height,t=0;t<this.height;t+=1){var n=r[t],s=this.matrix[t];for(e=0;e<this.width;e+=1)s[e]=n[e]}var a=i.varIndexByRow;for(e=0;e<this.height;e+=1)this.varIndexByRow[e]=a[e];for(;this.varIndexByRow.length>this.height;)this.varIndexByRow.pop();var o=i.varIndexByCol;for(t=0;t<this.width;t+=1)this.varIndexByCol[t]=o[t];for(;this.varIndexByCol.length>this.width;)this.varIndexByCol.pop();for(var l=i.rowByVarIndex,h=i.colByVarIndex,d=0;d<this.nVars;d+=1)this.rowByVarIndex[d]=l[d],this.colByVarIndex[d]=h[d];if(i.optionalObjectives.length>0&&this.optionalObjectives.length>0){this.optionalObjectives=[],this.optionalObjectivePerPriority={};for(var u=0;u<i.optionalObjectives.length;u++){var c=i.optionalObjectives[u].copy();this.optionalObjectives[u]=c,this.optionalObjectivePerPriority[c.priority]=c}}}}}),w=h(()=>{var t=v();function e(t,e){this.index=t,this.value=e}t.prototype.getMostFractionalVar=function(){for(var t=0,i=null,r=null,n=this.model.integerVariables,s=n.length,a=0;a<s;a++){var o=n[a].index,l=this.rowByVarIndex[o];if(-1!==l){var h=this.matrix[l][this.rhsColumn],d=Math.abs(h-Math.round(h));t<d&&(t=d,i=o,r=h)}}return new e(i,r)},t.prototype.getFractionalVarWithLowestCost=function(){for(var t=1/0,i=null,r=null,n=this.model.integerVariables,s=n.length,a=0;a<s;a++){var o=n[a],l=o.index,h=this.rowByVarIndex[l];if(-1!==h){var d=this.matrix[h][this.rhsColumn];if(Math.abs(d-Math.round(d))>this.precision){var u=o.cost;t>u&&(t=u,i=l,r=d)}}}return new e(i,r)}}),C=h(()=>{var t=v();t.prototype.countIntegerValues=function(){for(var t=0,e=1;e<this.height;e+=1)if(this.variablesPerIndex[this.varIndexByRow[e]].isInteger){var i=this.matrix[e][this.rhsColumn];(i-=Math.floor(i))<this.precision&&-i<this.precision&&(t+=1)}return t},t.prototype.isIntegral=function(){for(var t=this.model.integerVariables,e=t.length,i=0;i<e;i++){var r=this.rowByVarIndex[t[i].index];if(-1!==r){var n=this.matrix[r][this.rhsColumn];if(Math.abs(n-Math.round(n))>this.precision)return!1}}return!0},t.prototype.computeFractionalVolume=function(t){for(var e=-1,i=1;i<this.height;i+=1)if(this.variablesPerIndex[this.varIndexByRow[i]].isInteger){var r=this.matrix[i][this.rhsColumn];if(Math.min((r=Math.abs(r))-Math.floor(r),Math.floor(r+1))<this.precision){if(!t)return 0}else -1===e?e=r:e*=r}return -1===e?0:e}}),B=h((t,e)=>{m(),x(),b(),g(),I(),w(),C(),e.exports=v()}),E=h(()=>{var t=v();function e(t,e,i){this.type=t,this.varIndex=e,this.value=i}function i(t,e){this.relaxedEvaluation=t,this.cuts=e}function r(t,e){return e.relaxedEvaluation-t.relaxedEvaluation}t.prototype.applyCuts=function(t){if(this.restore(),this.addCutConstraints(t),this.simplex(),this.model.useMIRCuts)for(var e=!0;e;){var i=this.computeFractionalVolume(!0);this.applyMIRCuts(),this.simplex(),this.computeFractionalVolume(!0)>=.9*i&&(e=!1)}},t.prototype.branchAndCut=function(){var t=[],n=0,s=this.model.tolerance,a=!0,o=1e99;this.model.timeout&&(o=Date.now()+this.model.timeout);for(var l=1/0,h=null,d=[],u=0;u<this.optionalObjectives.length;u+=1)d.push(1/0);var c,f=new i(-1/0,[]);for(t.push(f);t.length>0&&!0===a&&Date.now()<o;)if(c=this.model.isMinimization?this.bestPossibleEval*(1+s):this.bestPossibleEval*(1-s),s>0&&l<c&&(a=!1),!((f=t.pop()).relaxedEvaluation>l)){var p=f.cuts;if(this.applyCuts(p),n++,!1!==this.feasible){var v=this.evaluation;if(!(v>l)){if(v===l){for(var m=!0,y=0;y<this.optionalObjectives.length&&!(this.optionalObjectives[y].reducedCosts[0]>d[y]);y+=1)if(this.optionalObjectives[y].reducedCosts[0]<d[y]){m=!1;break}if(m)continue}if(!0===this.isIntegral()){if(this.__isIntegral=!0,1===n){this.branchAndCutIterations=n;return}h=f,l=v;for(var x=0;x<this.optionalObjectives.length;x+=1)d[x]=this.optionalObjectives[x].reducedCosts[0]}else{1===n&&this.save();for(var b=this.getMostFractionalVar(),g=b.index,I=[],w=[],C=p.length,B=0;B<C;B+=1){var E=p[B];E.varIndex===g?"min"===E.type?w.push(E):I.push(E):(I.push(E),w.push(E))}var V=Math.ceil(b.value),_=Math.floor(b.value),M=new e("min",g,V);I.push(M);var S=new e("max",g,_);w.push(S),t.push(new i(v,I)),t.push(new i(v,w)),t.sort(r)}}}}null!==h&&this.applyCuts(h.cuts),this.branchAndCutIterations=n}}),V=h((t,e)=>{var i=v(),r=(E(),y()),n=r.Constraint,s=r.Equality,a=r.Variable,o=r.IntegerVariable;function l(t,e){this.tableau=new i(t),this.name=e,this.variables=[],this.integerVariables=[],this.unrestrictedVariables={},this.constraints=[],this.nConstraints=0,this.nVariables=0,this.isMinimization=!0,this.tableauInitialized=!1,this.relaxationIndex=1,this.useMIRCuts=!1,this.checkForCycles=!0,this.messages=[]}r.Term,e.exports=l,l.prototype.minimize=function(){return this.isMinimization=!0,this},l.prototype.maximize=function(){return this.isMinimization=!1,this},l.prototype._getNewElementIndex=function(){if(this.availableIndexes.length>0)return this.availableIndexes.pop();var t=this.lastElementIndex;return this.lastElementIndex+=1,t},l.prototype._addConstraint=function(t){var e=t.slack;this.tableau.variablesPerIndex[e.index]=e,this.constraints.push(t),this.nConstraints+=1,!0===this.tableauInitialized&&this.tableau.addConstraint(t)},l.prototype.smallerThan=function(t){var e=new n(t,!0,this.tableau.getNewElementIndex(),this);return this._addConstraint(e),e},l.prototype.greaterThan=function(t){var e=new n(t,!1,this.tableau.getNewElementIndex(),this);return this._addConstraint(e),e},l.prototype.equal=function(t){var e=new n(t,!0,this.tableau.getNewElementIndex(),this);this._addConstraint(e);var i=new n(t,!1,this.tableau.getNewElementIndex(),this);return this._addConstraint(i),new s(e,i)},l.prototype.addVariable=function(t,e,i,r,n){if("string"==typeof n)switch(n){case"required":default:n=0;break;case"strong":n=1;break;case"medium":n=2;break;case"weak":n=3}var s,l=this.tableau.getNewElementIndex();return null==e&&(e="v"+l),null==t&&(t=0),null==n&&(n=0),i?(s=new o(e,t,l,n),this.integerVariables.push(s)):s=new a(e,t,l,n),this.variables.push(s),this.tableau.variablesPerIndex[l]=s,r&&(this.unrestrictedVariables[l]=!0),this.nVariables+=1,!0===this.tableauInitialized&&this.tableau.addVariable(s),s},l.prototype._removeConstraint=function(t){var e=this.constraints.indexOf(t);if(-1===e){console.warn("[Model.removeConstraint] Constraint not present in model");return}this.constraints.splice(e,1),this.nConstraints-=1,!0===this.tableauInitialized&&this.tableau.removeConstraint(t),t.relaxation&&this.removeVariable(t.relaxation)},l.prototype.removeConstraint=function(t){return t.isEquality?(this._removeConstraint(t.upperBound),this._removeConstraint(t.lowerBound)):this._removeConstraint(t),this},l.prototype.removeVariable=function(t){var e=this.variables.indexOf(t);if(-1===e){console.warn("[Model.removeVariable] Variable not present in model");return}return this.variables.splice(e,1),!0===this.tableauInitialized&&this.tableau.removeVariable(t),this},l.prototype.updateRightHandSide=function(t,e){return!0===this.tableauInitialized&&this.tableau.updateRightHandSide(t,e),this},l.prototype.updateConstraintCoefficient=function(t,e,i){return!0===this.tableauInitialized&&this.tableau.updateConstraintCoefficient(t,e,i),this},l.prototype.setCost=function(t,e){var i=t-e.cost;return!1===this.isMinimization&&(i=-i),e.cost=t,this.tableau.updateCost(e,i),this},l.prototype.loadJson=function(t){this.isMinimization="max"!==t.opType;for(var e=t.variables,i=t.constraints,r={},n={},a=Object.keys(i),o=a.length,l=0;l<o;l+=1){var h,d,u=a[l],c=i[u],f=c.equal,p=c.weight,v=c.priority,m=void 0!==p||void 0!==v;if(void 0===f){var y=c.min;void 0!==y&&(h=this.greaterThan(y),r[u]=h,m&&h.relax(p,v));var x=c.max;void 0!==x&&(d=this.smallerThan(x),n[u]=d,m&&d.relax(p,v))}else{h=this.greaterThan(f),r[u]=h,d=this.smallerThan(f),n[u]=d;var b=new s(h,d);m&&b.relax(p,v)}}var g=Object.keys(e),I=g.length;this.tolerance=t.tolerance||0,t.timeout&&(this.timeout=t.timeout),t.options&&(t.options.timeout&&(this.timeout=t.options.timeout),0===this.tolerance&&(this.tolerance=t.options.tolerance||0),t.options.useMIRCuts&&(this.useMIRCuts=t.options.useMIRCuts),typeof t.options.exitOnCycles>"u"?this.checkForCycles=!0:this.checkForCycles=t.options.exitOnCycles);for(var w=t.ints||{},C=t.binaries||{},B=t.unrestricted||{},E=t.optimize,V=0;V<I;V+=1){var _=g[V],M=e[_],S=M[E]||0,k=!!C[_],z=!!w[_]||k,N=!!B[_],O=this.addVariable(S,_,z,N);k&&this.smallerThan(1).addTerm(1,O);var R=Object.keys(M);for(l=0;l<R.length;l+=1){var j=R[l];if(j!==E){var F=M[j],P=r[j];void 0!==P&&P.addTerm(F,O);var A=n[j];void 0!==A&&A.addTerm(F,O)}}}return this},l.prototype.getNumberOfIntegerVariables=function(){return this.integerVariables.length},l.prototype.solve=function(){return!1===this.tableauInitialized&&(this.tableau.setModel(this),this.tableauInitialized=!0),this.tableau.solve()},l.prototype.isFeasible=function(){return this.tableau.feasible},l.prototype.save=function(){return this.tableau.save()},l.prototype.restore=function(){return this.tableau.restore()},l.prototype.activateMIRCuts=function(t){this.useMIRCuts=t},l.prototype.debug=function(t){this.checkForCycles=t},l.prototype.log=function(t){return this.tableau.log(t)}}),_=h(t=>{t.CleanObjectiveAttributes=function(t){var e,i,r;if("string"==typeof t.optimize){if(!t.constraints[t.optimize])return t;for(i in e=Math.random(),t.variables)t.variables[i][t.optimize]&&(t.variables[i][e]=t.variables[i][t.optimize]);return t.constraints[e]=t.constraints[t.optimize],delete t.constraints[t.optimize],t}for(r in t.optimize)if(t.constraints[r]){if("equal"===t.constraints[r])delete t.optimize[r];else{for(i in e=Math.random(),t.variables)t.variables[i][r]&&(t.variables[i][e]=t.variables[i][r]);t.constraints[e]=t.constraints[r],delete t.constraints[r]}}return t}}),M=h((t,e)=>{e.exports=function(t){return t.length?function(t){var e={is_objective:/(max|min)(imize){0,}\:/i,is_int:/^(?!\/\*)\W{0,}int/i,is_bin:/^(?!\/\*)\W{0,}bin/i,is_constraint:/(\>|\<){0,}\=/i,is_unrestricted:/^\S{0,}unrestricted/i,parse_lhs:/(\-|\+){0,1}\s{0,1}\d{0,}\.{0,}\d{0,}\s{0,}[A-Za-z]\S{0,}/gi,parse_rhs:/(\-|\+){0,1}\d{1,}\.{0,}\d{0,}\W{0,}\;{0,1}$/i,parse_dir:/(\>|\<){0,}\=/gi,parse_int:/[^\s|^\,]+/gi,parse_bin:/[^\s|^\,]+/gi,get_num:/(\-|\+){0,1}(\W|^)\d+\.{0,1}\d{0,}/g,get_word:/[A-Za-z].*/},i={opType:"",optimize:"_obj",constraints:{},variables:{}},r={">=":"min","<=":"max","=":"equal"},n="",s=null,a="",o="",l="",h=0;"string"==typeof t&&(t=t.split(`
`));for(var d=0;d<t.length;d++)if(l="__"+d,n=t[d],s=null,e.is_objective.test(n))i.opType=n.match(/(max|min)/gi)[0],(s=n.match(e.parse_lhs).map(function(t){return t.replace(/\s+/,"")}).slice(1)).forEach(function(t){a=parseFloat(a=null===(a=t.match(e.get_num))?"-"===t.substr(0,1)?-1:1:a[0]),o=t.match(e.get_word)[0].replace(/\;$/,""),i.variables[o]=i.variables[o]||{},i.variables[o]._obj=a});else if(e.is_int.test(n))s=n.match(e.parse_int).slice(1),i.ints=i.ints||{},s.forEach(function(t){t=t.replace(";",""),i.ints[t]=1});else if(e.is_bin.test(n))s=n.match(e.parse_bin).slice(1),i.binaries=i.binaries||{},s.forEach(function(t){t=t.replace(";",""),i.binaries[t]=1});else if(e.is_constraint.test(n)){var u=n.indexOf(":");(s=(-1===u?n:n.slice(u+1)).match(e.parse_lhs).map(function(t){return t.replace(/\s+/,"")})).forEach(function(t){a=parseFloat(a=null===(a=t.match(e.get_num))?"-"===t.substr(0,1)?-1:1:a[0]),o=t.match(e.get_word)[0],i.variables[o]=i.variables[o]||{},i.variables[o][l]=a}),h=parseFloat(n.match(e.parse_rhs)[0]),n=r[n.match(e.parse_dir)[0]],i.constraints[l]=i.constraints[l]||{},i.constraints[l][n]=h}else e.is_unrestricted.test(n)&&(s=n.match(e.parse_int).slice(1),i.unrestricted=i.unrestricted||{},s.forEach(function(t){t=t.replace(";",""),i.unrestricted[t]=1}));return i}(t):function(t){if(!t)throw Error("Solver requires a model to operate on");var e="",i={max:"<=",min:">=",equal:"="},r=RegExp("[^A-Za-z0-9_[{}/.&#$%~'@^]","gi");if(t.opType)for(var n in e+=t.opType+":",t.variables)t.variables[n][n]=t.variables[n][n]?t.variables[n][n]:1,t.variables[n][t.optimize]&&(e+=" "+t.variables[n][t.optimize]+" "+n.replace(r,"_"));else e+="max:";for(var s in e+=`;

`,t.constraints)for(var a in t.constraints[s])if("u">typeof i[a]){for(var o in t.variables)"u">typeof t.variables[o][s]&&(e+=" "+t.variables[o][s]+" "+o.replace(r,"_"));e+=" "+i[a]+" "+t.constraints[s][a]+`;
`}if(t.ints)for(var l in e+=`

`,t.ints)e+="int "+l.replace(r,"_")+`;
`;if(t.unrestricted)for(var h in e+=`

`,t.unrestricted)e+="unrestricted "+h.replace(r,"_")+`;
`;return e}(t)}}),S=h(()=>{}),k=h(()=>{}),z=h(t=>{function e(t){return t=(t=(t=t.replace("\\r\\n",`\r
`)).split(`\r
`)).filter(function(t){return!(!0===RegExp(" 0$","gi").test(t)||!1===RegExp("\\d$","gi").test(t))}).map(function(t){return t.split(/\:{0,1} +(?=\d)/)}).reduce(function(t,e,i){return t[e[0]]=e[1],t},{})}t.reformat=M(),t.solve=function(t){return new Promise(function(i,r){"u">typeof window&&r("Function Not Available in Browser");var n=M()(t);t.external||r("Data for this function must be contained in the 'external' attribute. Not seeing anything there."),t.external.binPath||r("No Executable | Binary path provided in arguments as 'binPath'"),t.external.args||r("No arguments array for cli | bash provided on 'args' attribute"),t.external.tempName||r("No 'tempName' given. This is necessary to produce a staging file for the solver to operate on"),S().writeFile(t.external.tempName,n,function(n,s){if(n)r(n);else{var a=k().execFile;t.external.args.push(t.external.tempName),a(t.external.binPath,t.external.args,function(t,n){t?1===t.code?i(e(n)):r({code:t.code,meaning:{"-2":"Out of Memory",1:"SUBOPTIMAL",2:"INFEASIBLE",3:"UNBOUNDED",4:"DEGENERATE",5:"NUMFAILURE",6:"USER-ABORT",7:"TIMEOUT",9:"PRESOLVED",25:"ACCURACY ERROR",255:"FILE-ERROR"}[t.code],data:n}):i(e(n))})}})})}}),N=h((t,e)=>{e.exports={lpsolve:z()}}),O=h((t,e)=>{e.exports=function(t,e){var i,r,n,s,a,o=e.optimize,l=JSON.parse(JSON.stringify(e.optimize)),h=Object.keys(e.optimize),d=0,u={},c="",f={},p=[];for(delete e.optimize,r=0;r<h.length;r++)l[h[r]]=0;for(r=0;r<h.length;r++){for(a in e.optimize=h[r],e.opType=o[h[r]],i=t.Solve(e,void 0,void 0,!0),h)if(!e.variables[h[a]])for(s in i[h[a]]=i[h[a]]?i[h[a]]:0,e.variables)e.variables[s][h[a]]&&i[s]&&(i[h[a]]+=i[s]*e.variables[s][h[a]]);for(c="base",n=0;n<h.length;n++)i[h[n]]?c+="-"+(1e3*i[h[n]]|0)/1e3:c+="-0";if(!u[c]){for(u[c]=1,d++,n=0;n<h.length;n++)i[h[n]]&&(l[h[n]]+=i[h[n]]);delete i.feasible,delete i.result,p.push(i)}}for(r=0;r<h.length;r++)e.constraints[h[r]]={equal:l[h[r]]/d};for(r in e.optimize="cheater-"+Math.random(),e.opType="max",e.variables)e.variables[r].cheater=1;for(r in p)for(s in p[r])f[s]=f[s]||{min:1e99,max:-1e99};for(r in f)for(s in p)p[s][r]?(p[s][r]>f[r].max&&(f[r].max=p[s][r]),p[s][r]<f[r].min&&(f[r].min=p[s][r])):(p[s][r]=0,f[r].min=0);return{midpoint:i=t.Solve(e,void 0,void 0,!0),vertices:p,ranges:f}}}),R=h((t,e)=>{var i=B(),r=V(),n=E(),s=y(),a=_(),o=s.Constraint,l=s.Variable,h=s.Numeral,d=s.Term,u=N(),c=function(){this.Model=r,this.branchAndCut=n,this.Constraint=o,this.Variable=l,this.Numeral=h,this.Term=d,this.Tableau=i,this.lastSolvedModel=null,this.External=u,this.Solve=function(t,e,i,n){if(n)for(var s in a)t=a[s](t);if(!t)throw Error("Solver requires a model to operate on");if("object"==typeof t.optimize&&Object.keys(t.optimize>1))return O()(this,t);if(t.external){var o=Object.keys(u);if(o=JSON.stringify(o),!t.external.solver)throw Error("The model you provided has an 'external' object that doesn't have a solver attribute. Use one of the following:"+o);if(!u[t.external.solver])throw Error("No support (yet) for "+t.external.solver+". Please use one of these instead:"+o);return u[t.external.solver].solve(t)}t instanceof r||(t=new r(e).loadJson(t));var l=t.solve();if(this.lastSolvedModel=t,l.solutionSet=l.generateSolutionSet(),i)return l;var h={};return h.feasible=l.feasible,h.result=l.evaluation,h.bounded=l.bounded,l._tableau.__isIntegral&&(h.isIntegral=!0),Object.keys(l.solutionSet).forEach(function(t){0!==l.solutionSet[t]&&(h[t]=l.solutionSet[t])}),h},this.ReformatLP=M(),this.MultiObjective=function(t){return O()(this,t)}};"function"==typeof define?define([],function(){return new c}):"object"==typeof window?window.solver=new c:"object"==typeof self&&(self.solver=new c),e.exports=new c}),j=h((t,e)=>{var i,r,n=1e-60;do n+=n,i=1+.1*n,r=1+.2*n;while(i<=1||r<=1);e.exports=n}),F=h((t,e)=>{e.exports=function(t,e,i){let r,n;for(let e=1;e<=i;e+=1){t[e][e]=1/t[e][e],n=-t[e][e];for(let i=1;i<e;i+=1)t[i][e]*=n;if(i<(r=e+1))break;for(let s=r;s<=i;s+=1){n=t[e][s],t[e][s]=0;for(let i=1;i<=e;i+=1)t[i][s]+=n*t[i][e]}}}}),P=h((t,e)=>{e.exports=function(t,e,i,r){let n,s;for(n=1;n<=i;n+=1){s=0;for(let e=1;e<n;e+=1)s+=t[e][n]*r[e];r[n]=(r[n]-s)/t[n][n]}for(let e=1;e<=i;e+=1){n=i+1-e,r[n]/=t[n][n],s=-r[n];for(let e=1;e<n;e+=1)r[e]+=s*t[e][n]}}}),A=h((t,e)=>{e.exports=function(t,e,i,r){let n,s,a;for(let e=1;e<=i;e+=1){if(r[1]=e,a=0,(n=e-1)<1){if((a=t[e][e]-a)<=0)break;t[e][e]=Math.sqrt(a)}else{for(let i=1;i<=n;i+=1){s=t[i][e];for(let r=1;r<i;r+=1)s-=t[r][e]*t[r][i];s/=t[i][i],t[i][e]=s,a+=s*s}if((a=t[e][e]-a)<=0)break;t[e][e]=Math.sqrt(a)}r[1]=0}}}),T=h((t,e)=>{var i=j(),r=F(),n=P(),s=A();e.exports=function(t,e,a,o,l,h,d,u,c,f,p,v,m,y=0,x,b,g){let I,w,C,B,E,V,_,M,S,k,z,N,O,R,j=Math.min(o,p),F=2*o+j*(j+5)/2+2*p+1;for(let t=1;t<=o;t+=1)b[t]=e[t];for(let t=o+1;t<=F;t+=1)b[t]=0;for(let t=1;t<=p;t+=1)m[t]=0,h[t]=0;let P=[];if(0===g[1]){if(s(t,a,o,P),0!==P[1]){g[1]=2;return}n(t,a,o,e),r(t,a,o)}else{for(let i=1;i<=o;i+=1){l[i]=0;for(let r=1;r<=i;r+=1)l[i]+=t[r][i]*e[r]}for(let i=1;i<=o;i+=1){e[i]=0;for(let r=i;r<=o;r+=1)e[i]+=t[i][r]*l[r]}}d[1]=0;for(let i=1;i<=o;i+=1){l[i]=e[i],d[1]+=b[i]*l[i],b[i]=0;for(let e=i+1;e<=o;e+=1)t[e][i]=0}d[1]=-d[1]/2,g[1]=0;let A=o+o,T=A+j,L=T+j+1,q=L+j*(j+1)/2,$=q+p;for(let t=1;t<=p;t+=1){V=0;for(let e=1;e<=o;e+=1)V+=u[e][t]*u[e][t];b[$+t]=Math.sqrt(V)}function D(){return b[T+B]=b[T+B+1],b[T+B+1]=0,m[B]=0,B-=1,x[2]+=1,0}for(B=y,x[1]=0,x[2]=0,R=0;;){if(999===(R=function(){x[1]+=1,F=q;for(let t=1;t<=p;t+=1){F+=1,V=-c[t];for(let e=1;e<=o;e+=1)V+=u[e][t]*l[e];if(Math.abs(V)<i&&(V=0),t>v)b[F]=V;else if(b[F]=-Math.abs(V),V>0){for(let e=1;e<=o;e+=1)u[e][t]=-u[e][t];c[t]=-c[t]}}for(let t=1;t<=B;t+=1)b[q+m[t]]=0;C=0,E=0;for(let t=1;t<=p;t+=1)b[q+t]<E*b[$+t]&&(C=t,E=b[q+t]/b[$+t]);if(0===C){for(let t=1;t<=B;t+=1)h[m[t]]=b[T+t];return 999}return 0}()))return;for(;0!==(R=function(){for(let e=1;e<=o;e+=1){V=0;for(let i=1;i<=o;i+=1)V+=t[i][e]*u[i][C];b[e]=V}I=o;for(let t=1;t<=o;t+=1)b[I+t]=0;for(let e=B+1;e<=o;e+=1)for(let i=1;i<=o;i+=1)b[I+i]=b[I+i]+t[i][e]*b[e];N=!0;for(let t=B;t>=1;t-=1){V=b[t],I=(F=L+t*(t+3)/2)-t;for(let e=t+1;e<=B;e+=1)V-=b[F]*b[A+e],F+=e;V/=b[I],b[A+t]=V,!(m[t]<=v)&&(V<=0||(N=!1,w=t))}if(!N){_=b[T+w]/b[A+w];for(let t=1;t<=B;t+=1)m[t]<=v||b[A+t]<=0||(E=b[T+t]/b[A+t])<_&&(_=E,w=t)}V=0;for(let t=o+1;t<=o+o;t+=1)V+=b[t]*b[t];if(Math.abs(V)<=i){if(N)return g[1]=1,999;for(let t=1;t<=B;t+=1)b[T+t]=b[T+t]-_*b[A+t];return b[T+B+1]=b[T+B+1]+_,700}V=0;for(let t=1;t<=o;t+=1)V+=b[o+t]*u[t][C];M=-b[q+C]/V,O=!0,N||_<M&&(M=_,O=!1);for(let t=1;t<=o;t+=1)l[t]+=M*b[o+t],Math.abs(l[t])<i&&(l[t]=0);d[1]+=M*V*(M/2+b[T+B+1]);for(let t=1;t<=B;t+=1)b[T+t]=b[T+t]-M*b[A+t];if(b[T+B+1]=b[T+B+1]+M,O){m[B+=1]=C,F=L+(B-1)*B/2+1;for(let t=1;t<=B-1;t+=1)b[F]=b[t],F+=1;if(B===o)b[F]=b[o];else{for(let e=o;e>=B+1;e-=1)if(0!==b[e]&&(S=Math.max(Math.abs(b[e-1]),Math.abs(b[e])),k=Math.min(Math.abs(b[e-1]),Math.abs(b[e])),E=b[e-1]>=0?Math.abs(S*Math.sqrt(1+k*k/(S*S))):-Math.abs(S*Math.sqrt(1+k*k/(S*S))),S=b[e-1]/E,k=b[e]/E,1!==S)){if(0===S){b[e-1]=k*E;for(let i=1;i<=o;i+=1)E=t[i][e-1],t[i][e-1]=t[i][e],t[i][e]=E}else{b[e-1]=E,z=k/(1+S);for(let i=1;i<=o;i+=1)E=S*t[i][e-1]+k*t[i][e],t[i][e]=z*(t[i][e-1]+E)-t[i][e],t[i][e-1]=E}}b[F]=b[B]}}else{V=-c[C];for(let t=1;t<=o;t+=1)V+=l[t]*u[t][C];if(C>v)b[q+C]=V;else if(b[q+C]=-Math.abs(V),V>0){for(let t=1;t<=o;t+=1)u[t][C]=-u[t][C];c[C]=-c[C]}return 700}return 0}());){if(999===R)return;if(700===R){if(w===B)D();else{for(;function(){if(0!==b[I=(F=L+w*(w+1)/2+1)+w]&&(S=Math.max(Math.abs(b[I-1]),Math.abs(b[I])),k=Math.min(Math.abs(b[I-1]),Math.abs(b[I])),E=b[I-1]>=0?Math.abs(S*Math.sqrt(1+k*k/(S*S))):-Math.abs(S*Math.sqrt(1+k*k/(S*S))),S=b[I-1]/E,k=b[I]/E,1!==S)){if(0===S){for(let t=w+1;t<=B;t+=1)E=b[I-1],b[I-1]=b[I],b[I]=E,I+=t;for(let e=1;e<=o;e+=1)E=t[e][w],t[e][w]=t[e][w+1],t[e][w+1]=E}else{z=k/(1+S);for(let t=w+1;t<=B;t+=1)E=S*b[I-1]+k*b[I],b[I]=z*(b[I-1]+E)-b[I],b[I-1]=E,I+=t;for(let e=1;e<=o;e+=1)E=S*t[e][w]+k*t[e][w+1],t[e][w+1]=z*(t[e][w]+E)-t[e][w+1],t[e][w]=E}}}(),797===(R=function(){I=F-w;for(let t=1;t<=w;t+=1)b[I]=b[F],F+=1,I+=1;return b[T+w]=b[T+w+1],m[w]=m[w+1],(w+=1)<B?797:0}()););D()}}}}}}),L=h(t=>{var e=T();t.solveQP=function(t,i,r,n=[],s=0,a=[0,0]){let o=[],l=[],h=[],d=[],u=[],c=[],f="",p=t.length-1,v=r[1].length-1;if(!n)for(let t=1;t<=v;t+=1)n[t]=0;if(p!==t[1].length-1&&(f="Dmat is not symmetric!"),p!==i.length-1&&(f="Dmat and dvec are incompatible!"),p!==r.length-1&&(f="Amat and dvec are incompatible!"),v!==n.length-1&&(f="Amat and bvec are incompatible!"),(s>v||s<0)&&(f="Value of meq is invalid!"),""!==f)return{message:f};for(let t=1;t<=v;t+=1)l[t]=0,d[t]=0;let m=Math.min(p,v);for(let t=1;t<=p;t+=1)h[t]=0;o[1]=0;for(let t=1;t<=2*p+m*(m+5)/2+2*v+1;t+=1)u[t]=0;for(let t=1;t<=2;t+=1)c[t]=0;return e(t,i,p,p,h,d,o,r,n,p,v,s,l,0,c,u,a),1===a[1]&&(f="constraints are inconsistent, no solution!"),2===a[1]&&(f="matrix D in quadratic function is not positive definite!"),{solution:h,Lagrangian:d,value:o,unconstrained_solution:i,iterations:c,iact:l,message:f}}}),q=h((t,e)=>{e.exports=L()});function*$(t){let e=0;for(let i of t)yield[e++,i]}function D(t,e,i){let r=i;for(let[i,n]of $(t))r=e(r,n,i);return r}function*G(t,e){for(let[i,r]of $(t))yield e(r,i)}function U(t,e){for(let[i,r]of $(t))if(e(r,i))return!0;return!1}function H(t){let{done:e,value:i}=t.values().next();if(!e)return t.delete(i),i}function J(t,e,i){let r=t.get(e);void 0===r?t.set(e,[i]):r.push(i)}function W(t,e,i){let r=t.get(e);void 0===r?t.set(e,new Set([i])):r.add(i)}function Z(t,...e){let[i,...r]=t;return[i].concat(...r.map((t,i)=>{let r;return[JSON.stringify(e[i],(r=new WeakSet,(t,e)=>{if("object"==typeof e&&null!==e){if(r.has(e))return"[circular]";r.add(e)}return e})),t]})).join("")}function*Y(t,...e){let i=new Set,r;for(;void 0!==(r=e.pop());)i.has(r)||(yield r,i.add(r),e.push(...t(r)))}function Q(t){let e=new Map;for(let i of t)for(let t of i.ichildren())J(e,t,i);return e}u(c());var X=class{constructor(t,e,i=[],r=!1){this.child=t,this.data=e,this.points=i,this.reversed=r}},K=class{constructor(t,e,i,r,n){this.source=t,this.target=e,this.data=i,this.points=r,this.reversed=n}},tt=class{constructor(t){t&&(this.proots=t)}[Symbol.iterator](){return this.idescendants()[Symbol.iterator]()}iroots(){return{[Symbol.iterator]:()=>this.proots[Symbol.iterator]()}}roots(){return[...this.iroots()]}*idepth(){yield*Y(t=>t.ichildren(),...this.iroots())}*ibreadth(){let t=new Set,e=this.roots(),i=[];do{let r;for(i=e.reverse(),e=[];r=i.pop();)t.has(r)||(t.add(r),yield r,e.push(...r.ichildren()))}while(e.length)}*ibefore(){let t=new Map;for(let e of this)for(let i of e.ichildren())t.set(i,(t.get(i)||0)+1);let e=this.roots(),i;for(;i=e.pop();)for(let r of(yield i,i.ichildren())){let i=t.get(r);i>1?t.set(r,i-1):e.push(r)}}*iafter(){let t=this.roots(),e=new Set,i;for(;i=t.pop();)e.has(i)||(function(t,e){return!U(t,(t,i)=>!e(t,i))}(i.ichildren(),t=>e.has(t))?(e.add(i),yield i):t.push(i,...i.ichildren()))}idescendants(t="depth"){if("depth"===t)return this.idepth();if("breadth"===t)return this.ibreadth();if("before"===t)return this.ibefore();if("after"===t)return this.iafter();throw Error(`unknown iteration style: ${t}`)}descendants(t="depth"){return[...this.idescendants(t)]}ilinks(){return function*(t,e){for(let[i,r]of $(t))yield*e(r,i)}(this,t=>t.ichildLinks())}links(){return[...this.ilinks()]}size(){return D(this,t=>t+1,0)}sum(t){let e=new Map;for(let[i,r]of $(this.idescendants("after"))){let n=t(r,i),s=new Map;for(let t of(s.set(r,n),r.ichildren()))for(let[i,r]of e.get(t).entries())s.set(i,r);r.value=D(s.values(),(t,e)=>t+e,0),e.set(r,s)}return this}count(){let t=new Map;for(let e of this.idescendants("after"))if(e.ichildren()[Symbol.iterator]().next().done)t.set(e,new Set([e])),e.value=1;else{let i=new Set;for(let r of e.ichildren())for(let e of t.get(r))i.add(e);t.set(e,i),e.value=i.size}return this}height(){for(let t of this.idescendants("after"))t.value=Math.max(0,...G(t.ichildren(),t=>t.value+1));return this}depth(){let t=Q(this);for(let e of this.idescendants("before"))e.value=Math.max(0,...G(t.get(e)??[],t=>t.value+1));return this}*isplit(){let t=Q(this);function*e(e){yield*e.ichildren(),yield*t.get(e)??[]}let i=new Set(this.iroots());for(let t of this.iroots()){if(!i.delete(t))continue;let r=[t];for(let n of Y(e,t))i.delete(n)&&r.push(n);yield r.length>1?new tt(r):r[0]}}split(){return[...this.isplit()]}connected(){let t=this.isplit()[Symbol.iterator]();t.next();let{done:e}=t.next();return!!e}multidag(){return void 0===this.pmultidag?this.pmultidag=U(this.iroots(),t=>t.multidag()):this.pmultidag}},te=class extends tt{constructor(t){super(),this.data=t,this.dataChildren=[]}childrenCountsMap(){if(void 0!==this.cachedChildrenCounts)return this.cachedChildrenCounts;{let t=new Map;for(let{child:e}of this.dataChildren)t.set(e,(t.get(e)??0)+1);return this.cachedChildrenCounts=t.size===this.dataChildren.length?null:t}}iroots(){let t=[this];return{[Symbol.iterator]:()=>t[Symbol.iterator]()}}nchildren(){return this.childrenCountsMap()?.size??this.dataChildren.length}nchildLinks(){return this.dataChildren.length}nchildLinksTo(t){return this.childrenCountsMap()?.get(t)??1}*ichildren(){let t=this.childrenCountsMap();if(null===t)for(let{child:t}of this.dataChildren)yield t;else yield*t.keys()}children(){return[...this.ichildren()]}*ichildrenCounts(){let t=this.childrenCountsMap();if(null===t)for(let{child:t}of this.dataChildren)yield[t,1];else yield*t}childrenCounts(){return[...this.ichildrenCounts()]}*ichildLinks(){for(let{child:t,data:e,points:i,reversed:r}of this.dataChildren)yield new K(this,t,e,i,r)}childLinks(){return[...this.ichildLinks()]}isplit(){return this.iroots()}split(){return this.roots()}connected(){return!0}multidag(){return void 0===this.pmultidag?this.pmultidag=null!==this.childrenCountsMap()||U(this.ichildren(),t=>t.multidag()):this.pmultidag}};function ti(t){function e(e,i){return(t(e,i)??[]).map(t=>[t,void 0])}return e.wrapped=t,e}function tr(t){if(function(t){try{return"string"==typeof t.id}catch{return!1}}(t))return t.id;throw Error(Z`default id function expected datum to have an id field but got '${t}'`)}function tn(t){if(function(t){try{let e=t.parentIds;return void 0===e||e instanceof Array&&e.every(t=>"string"==typeof t)}catch{return!1}}(t))return t.parentIds;throw Error(`default parentIds function expected datum to have a parentIds field but got: ${t}`)}function ts(...t){if(t.length)throw Error(`got arguments to stratify(${t}), but constructor takes no arguments. These were probably meant as data which should be called as stratify()(...)`);return function t(e){function i(t){if(!t.length)throw Error("can't stratify empty data");let i=new Map;for(let[n,s]of t.entries()){let t=function(t){if("string"!=typeof t)throw Error(`id is supposed to be string but got type ${typeof t}`);return t}(e.id(s,n)),a=e.parentData(s,n)??[],o=new te(s);if(i.has(t))throw Error(`found a duplicate id: ${r}`);i.set(t,[o,a])}let n=[];for(let[t,e]of i.values()){for(let[r,n]of e){let e=i.get(r);if(!e)throw Error(`missing id: ${r}`);let[s]=e;s.dataChildren.push(new X(t,n))}e.length||n.push(t)}let s=e.decycle?function(t){let e=new Map;for(let i of t)for(let{child:t}of i.dataChildren)J(e,t,i);let i=new Map(G(t,t=>[t,{indeg:e.get(t)?.length??0,outdeg:t.nchildLinks(),node:t}])),r=Math.max(...G(function*(t,e){for(let[i,r]of $(t))e(r,i)&&(yield r)}(i.values(),({indeg:t,outdeg:e})=>t>0&&e>0),({indeg:t,outdeg:e})=>e-t));if(r===-1/0){let t=[];for(let{indeg:e,node:r}of i.values())0===e&&t.push(r);return t}let n=new Set,s=new Set,a=new Map;for(let t of i.values()){let{outdeg:e,indeg:i}=t;0===i?n.add(t):0===e?s.add(t):W(a,e-i,t)}let o=0,l=t.length,h=r,d=Array(t.length);for(;o<l;){var u;let t=H(n)??H(s)??((u=a.get(h))&&H(u));if(void 0===t)--h;else{let{node:r,indeg:u,outdeg:c}=t;for(let n of(d[t.rank=u>0&&0===c?--l:o++]=r,e.get(r)??[])){let t=i.get(n);if(void 0===t.rank&&t.indeg>0&&t.outdeg>0){let e=t.outdeg-t.indeg;a.get(e).delete(t),--t.outdeg,t.outdeg>0?W(a,e-1,t):s.add(t)}}for(let{child:t}of r.dataChildren){let e=i.get(t);if(!(void 0!==e.rank||0===e.indeg)){if(0===e.outdeg)--e.indeg,0===e.indeg&&(s.delete(e),n.add(e));else{let t=e.outdeg-e.indeg;t===h&&++h,a.get(t).delete(e),--e.indeg,0===e.indeg?n.add(e):W(a,t+1,e)}}}}}let c=[],f=new Set;for(let[t,e]of d.entries()){let r=[];for(let n of e.dataChildren){let s=i.get(n.child);s.rank<t?s.node.dataChildren.push(new X(e,n.data,n.points,!0)):r.push(n)}for(let{child:t}of(r.length!==e.nchildLinks()||f.has(e)||c.push(e),r))f.add(t);e.dataChildren=r}return c}([...G(i.values(),([t])=>t)]):n;return function(t,e){if(!t.length)throw Error("dag contained no roots; this often indicates a cycle");for(let e of new tt(t))for(let t of e.ichildren())if(t===e)throw Error(Z`node '${e.data}' contained a self loop`);if(!e)return;let i=new Set,r=new Set,n=null;for(let e of t){let t=function t(e){if(i.has(e))return[];if(r.has(e))return n=e,[e];{r.add(e);let s=[];for(let i of e.ichildren())if((s=t(i)).length)break;return r.delete(e),i.add(e),s.length&&null!==n&&s.push(e),n===e&&(n=null),s}}(e);if(t.length){let e=t.reverse().map(({data:t})=>Z`'${t}'`).join(" -> ");throw Error(`dag contained a cycle: ${e}`)}}}(s,!e.decycle),s.length>1?new tt(s):s[0]}function r(i){if(void 0===i)return e.id;{let{id:r,...n}=e;return t({...n,id:i})}}return i.id=r,i.parentData=function(i){if(void 0===i)return e.parentData;{let{parentIds:r,parentData:n,...s}=e;return t({...s,parentIds:function(t){function e(e,i){return(t(e,i)??[]).map(([t])=>t)}return e.wrapped=t,e}(i),parentData:i})}},i.parentIds=function(i){if(void 0===i)return e.parentIds;{let{parentIds:r,parentData:n,...s}=e;return t({...s,parentIds:i,parentData:ti(i)})}},i.decycle=function(i){return void 0===i?e.decycle:t({...e,decycle:i})},i}({id:tr,parentIds:tn,parentData:ti(tn),decycle:!1})}function ta(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function to(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function tl(t){let e,i,r;function n(t,r,n=0,s=t.length){if(n<s){if(0!==e(r,r))return s;do{let e=n+s>>>1;0>i(t[e],r)?n=e+1:s=e}while(n<s)}return n}return 2!==t.length?(e=ta,i=(e,i)=>ta(t(e),i),r=(e,i)=>t(e)-i):(e=t===ta||t===to?t:th,i=t,r=t),{left:n,center:function(t,e,i=0,s=t.length){let a=n(t,e,i,s-1);return a>i&&r(t[a-1],e)>-r(t[a],e)?a-1:a},right:function(t,r,n=0,s=t.length){if(n<s){if(0!==e(r,r))return s;do{let e=n+s>>>1;0>=i(t[e],r)?n=e+1:s=e}while(n<s)}return n}}}function th(){return 0}var td=tl(ta);td.right,td.left,tl(function(t){return null===t?NaN:+t}).center;var tu=Array.prototype;function tc(t,e){let i=t.findIndex(t=>t<=e);return i>=0?i:t.length}function tf(...t){if(t.length)throw Error(`got arguments to zherebko(${t}), but constructor takes no arguments.`);return function t(e,i,r,n){function s(t){let s=[],a=0,o;for(let e of t.idescendants("before"))void 0!==o&&o.nchildLinksTo(e)>1&&++a,s.push([e,a++]),o=e;let l=function(t){let e=new Map(t),i=[];for(let[r,[n,s]]of t.entries()){let a=!1,o=t[r+1]?.[0];for(let[t,{target:r}]of $(n.ichildLinks())){let l=e.get(r);o!==r||a?i.push([s,l,n,t]):a=!0}}i.sort(([t,e],[i,r])=>e===r?i-t:e-r);let r=new Map,n=[],s=[];for(let[t,e,a,o]of i){let i=r.get(a);void 0===i&&(i=[],r.set(a,i));let l=tc(s,t),h=tc(n,t);l<h?(i[o]=-l-1,s[l]=e-1):(i[o]=h+1,n[h]=e-1)}return r}(s),h=0,d=0;for(let t of l.values())for(let e of t)void 0!==e&&(h=Math.min(h,e),d=Math.max(d,e));let u=-h*r+e/2;for(let[t,e]of s)t.x=u,t.y=(e+.5)*i;for(let n of t){let t=l.get(n)??[];for(let[s,{target:a,points:o}]of $(n.ichildLinks())){o.length=0,o.push({x:n.x,y:n.y});let l=t[s];if(void 0!==l){let t=(l-h+.5)*r+(l>0?e-r:0),s=n.y+i,d=a.y-i;d-s>i/2?o.push({x:t,y:s},{x:t,y:d}):o.push({x:t,y:s})}o.push({x:a.x,y:a.y})}}let c=(d-h)*r+e,f=a*i;if(null===n)return{width:c,height:f};{let[e,i]=n;for(let[t]of s)t.x*=e/c,t.y*=i/f;for(let{points:r}of t.ilinks()){let t=r.map(({x:t,y:r})=>({x:t*e/c,y:r*i/f}));r.splice(0,r.length,...t)}return{width:e,height:i}}}return s.nodeSize=function(s){if(void 0===s)return[e,i,r];{let[e,i,r]=s;return t(e,i,r,n)}},s.size=function(s){if(void 0!==s)return t(e,i,r,s);if(null===n)return n;{let[t,e]=n;return[t,e]}},s}(1,1,1,null)}tu.slice,tu.map,u(R()),u(q()),u(c())},50361:function(t,e,i){var r=i(85990);t.exports=function(t){return r(t,5)}}}]);